---
import type { GetStaticPaths } from "astro";
import { fetchPosts } from "../utils/api-requests";

// index.astro uses page:{1}, [page].astro needs to dynamically send the page number (gotten by using Astro.params!)
const { page } = Astro.props;

const result = await fetchPosts(page);

// Fallback to empty list
const posts = result ? result.edges : [];
---

